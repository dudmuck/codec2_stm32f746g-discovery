rxchar 'R'
Resetting MCU...
rxchar '4'
UART selected rate: 1300
Init_lr20xx
radio reset
radio reset ok
LR20xx v1.24
Z LR20xx v1.24
0121 CMD_STATUS_FAIL cmd=0123, STBY_RC
LR20XX ERROR: In /home/wroberts/src/github_dudmuck/codec2_stm32f746g-discovery/lr20xx_hal/radio_lr20xx.c - set_tx_dbm_lr20xx (line 468): LR20XX_STATUS_ERROR
PktCfg: pre=8 explicit crc=OFF len=0
nsamp:320, _bytes_per_frame:13, frame_length_bytes:6

=== Streaming Timing Analysis ===
SF:7 BW:125kHz frame_size:13 bytes
Codec2 frame period: 40 ms
Packet: 26 bytes = 2 frames
Packet time-on-air: 62 ms
Codec2 production time for packet: 80 ms
OK: Encoder keeps up (margin: 18 ms)

--- SF Feasibility Analysis ---
SF5: 20 ms - OK (margin 60 ms)
SF6: 35 ms - OK (margin 45 ms)
SF7: 62 ms - OK (margin 18 ms)
SF8: 114 ms - TOO SLOW (exceeds by 34 ms)
SF9: 206 ms - TOO SLOW (exceeds by 126 ms)
SF10: 371 ms - TOO SLOW (exceeds by 291 ms)
SF11: 824 ms - TOO SLOW (exceeds by 744 ms)
SF12: 1483 ms - TOO SLOW (exceeds by 1403 ms)

Maximum usable SF: 7 (current: 7)

--- SF12 Optimal Packet Size ---
SF12: No viable packet size (even 1 frame is too slow)
=================================

NOTE: TX faster than encoding, buffering full packet
FHSS: proactive hop count = 5 (pkt_toa=62 ms)
Streaming config: feasible=0, min_init=2 frames, rec_sf=7, margin=18 ms
FHSS initialized: 50 channels, 902.2 MHz - 927.7 MHz
FHSS: RX expected payload=26 bytes
FHSS scan starting...
CAD configured: symb=4, peak=51, pnr_delta=8, timeout=20 ms (SF7 BW125kHz)
Sync preamble: 342 symbols (350 ms)
PktCfg: pre=342 explicit crc=ON len=0
FHSS scan started from ch0 (902.200 MHz)
LR20xx ERROR: 0x8000
sweep 1: 809 ms, mode=RX
sweep 2: 153 ms, mode=RX
sweep 3: 140 ms, mode=RX
False CAD on ch19 (noise)
False CAD on ch35 (noise)
sweep 4: 256 ms, mode=RX
sweep 5: 153 ms, mode=RX
False CAD on ch11 (noise)
False CAD on ch32 (noise)
sweep 6: 255 ms, mode=RX
sweep 7: 152 ms, mode=RX
rxchar 'T'
Test mode ON
sweep 8: 152 ms, mode=RX
sweep 9: 157 ms, mode=RX
sweep 10: 150 ms, mode=RX
sweep 11: 162 ms, mode=RX
sweep 12: 159 ms, mode=RX
False CAD on ch25 (noise)
sweep 13: 212 ms, mode=RX
sweep 14: 155 ms, mode=RX
sweep 15: 159 ms, mode=RX
sweep 16: 163 ms, mode=RX
sweep 17: 148 ms, mode=RX
False CAD on ch31 (noise)
sweep 18: 199 ms, mode=RX
sweep 19: 155 ms, mode=RX
False CAD on ch4 (noise)
sweep 20: 203 ms, mode=RX
sweep 21: 160 ms, mode=RX
sweep 22: 152 ms, mode=RX
sweep 23: 162 ms, mode=RX
sweep 24: 149 ms, mode=RX
sweep 25: 156 ms, mode=RX
sweep 26: 149 ms, mode=RX
sweep 27: 138 ms, mode=RX
False CAD on ch34 (noise)
sweep 28: 202 ms, mode=RX
sweep 29: 156 ms, mode=RX
sweep 30: 147 ms, mode=RX
sweep 31: 147 ms, mode=RX
sweep 32: 147 ms, mode=RX
sweep 33: 155 ms, mode=RX
sweep 34: 154 ms, mode=RX
sweep 35: 158 ms, mode=RX
sweep 36: 151 ms, mode=RX
sweep 37: 148 ms, mode=RX
sweep 38: 145 ms, mode=RX
sweep 39: 153 ms, mode=RX
sweep 40: 152 ms, mode=RX
sweep 41: 164 ms, mode=RX
rxchar 't'
TX start
FHSS: stopping scan for TX
keyup
TX sync on ch25 (915.200 MHz), lfsr=0xD593, next_ch=5, hops=0, preamble=342
PktCfg: pre=342 explicit crc=ON len=5
FHSS: sending sync packet
FHSS: sync repeat 2/3 on ch39, hops=0
PktCfg: pre=342 explicit crc=ON len=5
FHSS: sync repeat 3/3 on ch6, hops=0
PktCfg: pre=342 explicit crc=ON len=5
FHSS: sync TX done, hop ch6->ch5, ready for data
PktCfg: pre=8 implicit crc=ON len=29
FHSS data mode: pkt_len=29 (payload=26 + hdr=3), implicit header
FHSS: indices reset fifo=0 dec=3 exp_seq=0
FHSS: data mode configured, payload=26
fhss_hop: lfsr 0xEAC9->0x7564, ch 2 (loops=1, hops=1)
FHSS: defer pkt, hop ch5->ch2 after 485ms
fhss_hop: lfsr 0x7564->0x3AB2, ch 26 (loops=1, hops=2)
FHSS: defer pkt, hop ch2->ch26 after 478ms
fhss_hop: lfsr 0x3AB2->0x9D59, ch 31 (loops=1, hops=3 RESYNC)
FHSS: defer pkt, hop ch26->ch31 after 479ms
fhss_hop: lfsr 0x9D59->0x4EAC, ch 40 (loops=1, hops=4)
FHSS: defer pkt, hop ch31->ch40 after 478ms
fhss_hop: lfsr 0x4EAC->0xA756, ch 38 (loops=1, hops=5)
FHSS: defer pkt, hop ch40->ch38 after 485ms
fhss_hop: lfsr 0xA756->0xD3AB, ch 37 (loops=1, hops=6 RESYNC)
FHSS: defer pkt, hop ch38->ch37 after 478ms
fhss_hop: lfsr 0xD3AB->0xE9D5, ch 11 (loops=1, hops=7)
FHSS: defer pkt, hop ch37->ch11 after 479ms
fhss_hop: lfsr 0xE9D5->0x74EA, ch 30 (loops=1, hops=8)
FHSS: defer pkt, hop ch11->ch30 after 478ms
fhss_hop: lfsr 0x74EA->0x3A75, ch 15 (loops=1, hops=9 RESYNC)
FHSS: defer pkt, hop ch30->ch15 after 485ms
fhss_hop: lfsr 0x3A75->0x9D3A, ch 0 (loops=1, hops=10)
FHSS: defer pkt, hop ch15->ch0 after 479ms
fhss_hop: lfsr 0x9D3A->0x4E9D, ch 25 (loops=1, hops=11)
FHSS: defer pkt, hop ch0->ch25 after 478ms
fhss_hop: lfsr 0x4E9D->0xA74E, ch 30 (loops=1, hops=12 RESYNC)
FHSS: defer pkt, hop ch25->ch30 after 479ms
fhss_hop: lfsr 0xA74E->0x53A7, ch 15 (loops=1, hops=13)
FHSS: defer pkt, hop ch30->ch15 after 484ms
fhss_hop: lfsr 0x53A7->0xA9D3, ch 25 (loops=1, hops=14)
FHSS: defer pkt, hop ch15->ch25 after 479ms
fhss_hop: lfsr 0xA9D3->0xD4E9, ch 5 (loops=1, hops=15 RESYNC)
FHSS: defer pkt, hop ch25->ch5 after 478ms
fhss_hop: lfsr 0xD4E9->0xEA74, ch 20 (loops=1, hops=16)
FHSS: defer pkt, hop ch5->ch20 after 479ms
fhss_hop: lfsr 0xEA74->0x753A, ch 10 (loops=1, hops=17)
FHSS: defer pkt, hop ch20->ch10 after 484ms
fhss_hop: lfsr 0x753A->0x3A9D, ch 5 (loops=1, hops=18 RESYNC)
FHSS: defer pkt, hop ch10->ch5 after 479ms
fhss_hop: lfsr 0x3A9D->0x9D4E, ch 20 (loops=1, hops=19)
FHSS: defer pkt, hop ch5->ch20 after 478ms
fhss_hop: lfsr 0x9D4E->0x4EA7, ch 35 (loops=1, hops=20)
FHSS: defer pkt, hop ch20->ch35 after 479ms
fhss_hop: lfsr 0x4EA7->0xE9D4, ch 10 (loops=3, hops=21 RESYNC)
FHSS: defer pkt, hop ch35->ch10 after 485ms
fhss_hop: lfsr 0xE9D4->0xF4EA, ch 48 (loops=1, hops=22)
FHSS: defer pkt, hop ch10->ch48 after 478ms
fhss_hop: lfsr 0xF4EA->0x7A75, ch 49 (loops=1, hops=23)
FHSS: defer pkt, hop ch48->ch49 after 479ms
fhss_hop: lfsr 0x7A75->0xBD3A, ch 42 (loops=1, hops=24 RESYNC)
FHSS: defer pkt, hop ch49->ch42 after 478ms
fhss_hop: lfsr 0xBD3A->0x5E9D, ch 21 (loops=1, hops=25)
FHSS: defer pkt, hop ch42->ch21 after 485ms
fhss_hop: lfsr 0x5E9D->0xAF4E, ch 28 (loops=1, hops=26)
FHSS: defer pkt, hop ch21->ch28 after 478ms
fhss_hop: lfsr 0xAF4E->0x57A7, ch 39 (loops=1, hops=27 RESYNC)
FHSS: defer pkt, hop ch28->ch39 after 479ms
fhss_hop: lfsr 0x57A7->0xABD3, ch 37 (loops=1, hops=28)
FHSS: defer pkt, hop ch39->ch37 after 478ms
rxchar 'r'
TX end
unkey idx:13 cb:375 enc:347 tm:347 ne:0 pk:86
FHSS: TX stopped (data_cnt=86)
