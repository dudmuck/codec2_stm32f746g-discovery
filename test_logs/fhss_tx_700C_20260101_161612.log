rxchar 'R'
Resetting MCU...
rxchar '8'
UART selected rate: 700C
Init_lr20xx
radio reset
radio reset ok
LR20xx v1.24
Z LR20xx v1.24
PktCfg: pre=8 explicit crc=OFF len=0
nsamp:320, _bytes_per_frame:7, frame_length_bytes:3

=== Streaming Timing Analysis ===
SF:9 BW:125kHz frame_size:7 bytes
Codec2 frame period: 40 ms
Packet: 49 bytes = 7 frames
Packet time-on-air: 309 ms
Codec2 production time for packet: 280 ms
WARNING: packet_toa > production_time - buffer will drain!

--- SF Feasibility Analysis ---
SF5: 32 ms - OK (margin 248 ms)
SF6: 55 ms - OK (margin 225 ms)
SF7: 93 ms - OK (margin 187 ms)
SF8: 175 ms - OK (margin 105 ms)
SF9: 309 ms - TOO SLOW (exceeds by 29 ms)
SF10: 576 ms - TOO SLOW (exceeds by 296 ms)
SF11: 1233 ms - TOO SLOW (exceeds by 953 ms)
SF12: 2302 ms - TOO SLOW (exceeds by 2022 ms)

Maximum usable SF: 8 (current: 9)

--- SF12 Optimal Packet Size ---
SF12: No viable packet size (even 1 frame is too slow)
=================================

SF9 TOA=309ms margin=-29ms (min=10), reducing SF...
Adjusted SF9->SF8 (TOA=175ms, margin=105ms)
NOTE: TX faster than encoding, buffering full packet
FHSS: proactive hop count = 1 (pkt_toa=175 ms)
Streaming config: feasible=0, min_init=7 frames, rec_sf=8, margin=105 ms
FHSS initialized: 50 channels, 902.2 MHz - 927.7 MHz
FHSS: RX expected payload=49 bytes
FHSS scan starting...
CAD configured: symb=4, peak=54, pnr_delta=8, timeout=36 ms (SF8 BW125kHz)
Sync preamble: 171 symbols (350 ms)
PktCfg: pre=171 explicit crc=ON len=0
FHSS scan started from ch0 (902.200 MHz)
sweep 1: 964 ms, mode=RX
sweep 2: 309 ms, mode=RX
sweep 3: 317 ms, mode=RX
sweep 4: 301 ms, mode=RX
rxchar 'T'
Test mode ON
sweep 5: 329 ms, mode=RX
sweep 6: 299 ms, mode=RX
sweep 7: 295 ms, mode=RX
sweep 8: 294 ms, mode=RX
False CAD on ch11 (noise)
False CAD on ch43 (noise)
sweep 9: 412 ms, mode=RX
sweep 10: 278 ms, mode=RX
sweep 11: 311 ms, mode=RX
False CAD on ch4 (noise)
sweep 12: 331 ms, mode=RX
sweep 13: 304 ms, mode=RX
False CAD on ch11 (noise)
sweep 14: 372 ms, mode=RX
sweep 15: 315 ms, mode=RX
sweep 16: 317 ms, mode=RX
sweep 17: 301 ms, mode=RX
False CAD on ch38 (noise)
sweep 18: 339 ms, mode=RX
sweep 19: 290 ms, mode=RX
sweep 20: 295 ms, mode=RX
sweep 21: 284 ms, mode=RX
rxchar 't'
TX start
FHSS: stopping scan for TX
keyup
TX sync on ch26 (915.720 MHz), lfsr=0xD594, next_ch=6, hops=0, preamble=171
PktCfg: pre=171 explicit crc=ON len=5
FHSS: sending sync packet
FHSS: sync repeat 2/3 on ch40, hops=0
PktCfg: pre=171 explicit crc=ON len=5
FHSS: sync repeat 3/3 on ch7, hops=0
PktCfg: pre=171 explicit crc=ON len=5
FHSS: sync TX done, hop ch7->ch6, ready for data
PktCfg: pre=8 implicit crc=ON len=52
FHSS data mode: pkt_len=52 (payload=49 + hdr=3), implicit header
FHSS: indices reset fifo=0 dec=3 exp_seq=0
FHSS: data mode configured, payload=49
fhss_hop: lfsr 0xEACA->0xF565, ch 21 (loops=1, hops=1)
FHSS: defer pkt, hop ch6->ch21 after 564ms
fhss_hop: lfsr 0xF565->0xFAB2, ch 28 (loops=1, hops=2)
FHSS: defer pkt, hop ch21->ch28 after 558ms
fhss_hop: lfsr 0xFAB2->0xFD59, ch 7 (loops=1, hops=3 RESYNC)
FHSS: defer pkt, hop ch28->ch7 after 564ms
fhss_hop: lfsr 0xFD59->0x7EAC, ch 28 (loops=1, hops=4)
FHSS: defer pkt, hop ch7->ch28 after 558ms
fhss_hop: lfsr 0x7EAC->0xBF56, ch 32 (loops=1, hops=5)
FHSS: defer pkt, hop ch28->ch32 after 558ms
fhss_hop: lfsr 0xBF56->0xDFAB, ch 9 (loops=1, hops=6 RESYNC)
FHSS: defer pkt, hop ch32->ch9 after 564ms
fhss_hop: lfsr 0xDFAB->0xEFD5, ch 47 (loops=1, hops=7)
FHSS: defer pkt, hop ch9->ch47 after 557ms
fhss_hop: lfsr 0xEFD5->0x77EA, ch 48 (loops=1, hops=8)
FHSS: defer pkt, hop ch47->ch48 after 558ms
fhss_hop: lfsr 0x77EA->0x3BF5, ch 49 (loops=1, hops=9 RESYNC)
FHSS: defer pkt, hop ch48->ch49 after 564ms
fhss_hop: lfsr 0x3BF5->0x9DFA, ch 42 (loops=1, hops=10)
FHSS: defer pkt, hop ch49->ch42 after 558ms
fhss_hop: lfsr 0x9DFA->0x4EFD, ch 21 (loops=1, hops=11)
FHSS: defer pkt, hop ch42->ch21 after 564ms
fhss_hop: lfsr 0x4EFD->0x277E, ch 10 (loops=1, hops=12 RESYNC)
FHSS: defer pkt, hop ch21->ch10 after 558ms
fhss_hop: lfsr 0x277E->0x93BF, ch 23 (loops=1, hops=13)
FHSS: defer pkt, hop ch10->ch23 after 558ms
fhss_hop: lfsr 0x93BF->0x49DF, ch 11 (loops=1, hops=14)
FHSS: defer pkt, hop ch23->ch11 after 564ms
fhss_hop: lfsr 0x49DF->0xA4EF, ch 23 (loops=1, hops=15 RESYNC)
FHSS: defer pkt, hop ch11->ch23 after 558ms
fhss_hop: lfsr 0xA4EF->0x5277, ch 11 (loops=1, hops=16)
FHSS: defer pkt, hop ch23->ch11 after 558ms
fhss_hop: lfsr 0x5277->0xA93B, ch 23 (loops=1, hops=17)
FHSS: defer pkt, hop ch11->ch23 after 564ms
fhss_hop: lfsr 0xA93B->0xD49D, ch 29 (loops=1, hops=18 RESYNC)
FHSS: defer pkt, hop ch23->ch29 after 557ms
fhss_hop: lfsr 0xD49D->0xEA4E, ch 32 (loops=1, hops=19)
FHSS: defer pkt, hop ch29->ch32 after 558ms
fhss_hop: lfsr 0xEA4E->0x7527, ch 41 (loops=1, hops=20)
FHSS: defer pkt, hop ch32->ch41 after 564ms
fhss_hop: lfsr 0x7527->0xBA93, ch 13 (loops=1, hops=21 RESYNC)
FHSS: defer pkt, hop ch41->ch13 after 558ms
fhss_hop: lfsr 0xBA93->0xDD49, ch 49 (loops=1, hops=22)
FHSS: defer pkt, hop ch13->ch49 after 564ms
fhss_hop: lfsr 0xDD49->0x6EA4, ch 24 (loops=1, hops=23)
FHSS: defer pkt, hop ch49->ch24 after 558ms
rxchar 'r'
TX end
unkey idx:28 cb:374 enc:345 tm:345 ne:0 pk:24
FHSS: TX stopped (data_cnt=24)
