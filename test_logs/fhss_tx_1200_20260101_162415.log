rxchar 'R'
Resetting MCU...
rxchar '5'
UART selected rate: 1200
Init_lr20xx
radio reset
radio reset ok
LR20xx v1.24
Z LR20xx v1.24
PktCfg: pre=8 explicit crc=OFF len=0
nsamp:320, _bytes_per_frame:6, frame_length_bytes:0

=== Streaming Timing Analysis ===
SF:9 BW:125kHz frame_size:6 bytes
Codec2 frame period: 40 ms
Packet: 36 bytes = 6 frames
Packet time-on-air: 247 ms
Codec2 production time for packet: 240 ms
WARNING: packet_toa > production_time - buffer will drain!

--- SF Feasibility Analysis ---
SF5: 25 ms - OK (margin 215 ms)
SF6: 43 ms - OK (margin 197 ms)
SF7: 78 ms - OK (margin 162 ms)
SF8: 134 ms - OK (margin 106 ms)
SF9: 247 ms - TOO SLOW (exceeds by 7 ms)
SF10: 453 ms - TOO SLOW (exceeds by 213 ms)
SF11: 988 ms - TOO SLOW (exceeds by 748 ms)
SF12: 1811 ms - TOO SLOW (exceeds by 1571 ms)

Maximum usable SF: 8 (current: 9)

--- SF12 Optimal Packet Size ---
SF12: No viable packet size (even 1 frame is too slow)
=================================

SF9 TOA=247ms margin=-7ms (min=10), reducing SF...
Adjusted SF9->SF8 (TOA=134ms, margin=106ms)
NOTE: TX faster than encoding, buffering full packet
FHSS: proactive hop count = 2 (pkt_toa=134 ms)
Streaming config: feasible=0, min_init=6 frames, rec_sf=8, margin=106 ms
FHSS initialized: 50 channels, 902.2 MHz - 927.7 MHz
FHSS: RX expected payload=36 bytes
FHSS scan starting...
CAD configured: symb=4, peak=54, pnr_delta=8, timeout=36 ms (SF8 BW125kHz)
Sync preamble: 171 symbols (350 ms)
PktCfg: pre=171 explicit crc=ON len=0
FHSS scan started from ch0 (902.200 MHz)
sweep 1: 939 ms, mode=RX
False CAD on ch23 (noise)
sweep 2: 335 ms, mode=RX
False CAD on ch39 (noise)
sweep 3: 337 ms, mode=RX
sweep 4: 296 ms, mode=RX
rxchar 'T'
Test mode ON
False CAD on ch49 (noise)
sweep 5: 362 ms, mode=FS
sweep 6: 311 ms, mode=RX
sweep 7: 307 ms, mode=RX
sweep 8: 298 ms, mode=RX
sweep 9: 307 ms, mode=RX
sweep 10: 285 ms, mode=RX
sweep 11: 317 ms, mode=RX
sweep 12: 289 ms, mode=RX
sweep 13: 307 ms, mode=RX
False CAD on ch37 (noise)
sweep 14: 340 ms, mode=RX
sweep 15: 310 ms, mode=RX
sweep 16: 290 ms, mode=RX
sweep 17: 287 ms, mode=RX
sweep 18: 292 ms, mode=RX
sweep 19: 299 ms, mode=RX
sweep 20: 303 ms, mode=RX
sweep 21: 293 ms, mode=RX
sweep 22: 300 ms, mode=RX
rxchar 't'
TX start
FHSS: stopping scan for TX
keyup
TX sync on ch7 (905.840 MHz), lfsr=0x5593, next_ch=21, hops=0, preamble=171
PktCfg: pre=171 explicit crc=ON len=5
FHSS: sending sync packet
FHSS: sync repeat 2/3 on ch5, hops=0
PktCfg: pre=171 explicit crc=ON len=5
FHSS: sync repeat 3/3 on ch22, hops=0
PktCfg: pre=171 explicit crc=ON len=5
FHSS: sync TX done, hop ch22->ch21, ready for data
PktCfg: pre=8 implicit crc=ON len=39
FHSS data mode: pkt_len=39 (payload=36 + hdr=3), implicit header
FHSS: indices reset fifo=0 dec=3 exp_seq=0
FHSS: data mode configured, payload=36
fhss_hop: lfsr 0xAAC9->0x5564, ch 10 (loops=1, hops=1)
FHSS: defer pkt, hop ch21->ch10 after 482ms
fhss_hop: lfsr 0x5564->0x2AB2, ch 30 (loops=1, hops=2)
FHSS: defer pkt, hop ch10->ch30 after 482ms
fhss_hop: lfsr 0x2AB2->0x9559, ch 33 (loops=1, hops=3 RESYNC)
FHSS: defer pkt, hop ch30->ch33 after 475ms
fhss_hop: lfsr 0x9559->0x4AAC, ch 16 (loops=1, hops=4)
FHSS: defer pkt, hop ch33->ch16 after 482ms
fhss_hop: lfsr 0x4AAC->0xA556, ch 26 (loops=1, hops=5)
FHSS: defer pkt, hop ch16->ch26 after 482ms
fhss_hop: lfsr 0xA556->0xD2AB, ch 31 (loops=1, hops=6 RESYNC)
FHSS: defer pkt, hop ch26->ch31 after 476ms
fhss_hop: lfsr 0xD2AB->0xE955, ch 33 (loops=1, hops=7)
FHSS: defer pkt, hop ch31->ch33 after 482ms
fhss_hop: lfsr 0xE955->0x74AA, ch 16 (loops=1, hops=8)
FHSS: defer pkt, hop ch33->ch16 after 481ms
fhss_hop: lfsr 0x74AA->0x3A55, ch 33 (loops=1, hops=9 RESYNC)
FHSS: defer pkt, hop ch16->ch33 after 482ms
fhss_hop: lfsr 0x3A55->0x1D2A, ch 16 (loops=1, hops=10)
FHSS: defer pkt, hop ch33->ch16 after 476ms
fhss_hop: lfsr 0x1D2A->0x0E95, ch 33 (loops=1, hops=11)
FHSS: defer pkt, hop ch16->ch33 after 482ms
fhss_hop: lfsr 0x0E95->0x074A, ch 16 (loops=1, hops=12 RESYNC)
FHSS: defer pkt, hop ch33->ch16 after 481ms
fhss_hop: lfsr 0x074A->0x83A5, ch 1 (loops=1, hops=13)
FHSS: defer pkt, hop ch16->ch1 after 476ms
fhss_hop: lfsr 0x83A5->0xC1D2, ch 18 (loops=1, hops=14)
FHSS: defer pkt, hop ch1->ch18 after 482ms
fhss_hop: lfsr 0xC1D2->0x60E9, ch 9 (loops=1, hops=15 RESYNC)
FHSS: defer pkt, hop ch18->ch9 after 482ms
fhss_hop: lfsr 0x60E9->0xB074, ch 22 (loops=1, hops=16)
FHSS: defer pkt, hop ch9->ch22 after 482ms
fhss_hop: lfsr 0xB074->0x583A, ch 36 (loops=1, hops=17)
FHSS: defer pkt, hop ch22->ch36 after 475ms
fhss_hop: lfsr 0x583A->0x2C1D, ch 43 (loops=1, hops=18 RESYNC)
FHSS: defer pkt, hop ch36->ch43 after 482ms
fhss_hop: lfsr 0x2C1D->0x960E, ch 14 (loops=1, hops=19)
FHSS: defer pkt, hop ch43->ch14 after 482ms
fhss_hop: lfsr 0x960E->0x4B07, ch 7 (loops=1, hops=20)
FHSS: defer pkt, hop ch14->ch7 after 482ms
fhss_hop: lfsr 0x4B07->0x2583, ch 3 (loops=1, hops=21 RESYNC)
FHSS: defer pkt, hop ch7->ch3 after 475ms
fhss_hop: lfsr 0x2583->0x92C1, ch 19 (loops=1, hops=22)
FHSS: defer pkt, hop ch3->ch19 after 482ms
fhss_hop: lfsr 0x92C1->0xC960, ch 2 (loops=1, hops=23)
FHSS: defer pkt, hop ch19->ch2 after 482ms
fhss_hop: lfsr 0xC960->0xE4B0, ch 44 (loops=1, hops=24 RESYNC)
FHSS: defer pkt, hop ch2->ch44 after 476ms
fhss_hop: lfsr 0xE4B0->0xF258, ch 40 (loops=1, hops=25)
FHSS: defer pkt, hop ch44->ch40 after 481ms
fhss_hop: lfsr 0xF258->0xF92C, ch 38 (loops=1, hops=26)
FHSS: defer pkt, hop ch40->ch38 after 482ms
fhss_hop: lfsr 0xF92C->0xFC96, ch 12 (loops=1, hops=27 RESYNC)
FHSS: defer pkt, hop ch38->ch12 after 482ms
fhss_hop: lfsr 0xFC96->0xFE4B, ch 49 (loops=1, hops=28)
FHSS: defer pkt, hop ch12->ch49 after 476ms
rxchar 'r'
TX end
unkey idx:18 cb:375 enc:345 tm:345 ne:345 pk:57
FHSS: TX stopped (data_cnt=57)
